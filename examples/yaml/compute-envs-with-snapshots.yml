## Example demonstrating Fusion snapshots support in seqerakit
## This shows both ways to enable snapshots for AWS Batch compute environments

compute-envs:
  # Method 1: Using fusionSnapshots field (matches Tower CLI export format)
  - name: 'aws-batch-with-fusion-snapshots'
    workspace: 'my_organization/my_workspace'
    credentials: 'aws_credentials'
    type: 'aws-batch'
    config-mode: 'forge'
    region: 'us-east-1'
    work-dir: 's3://my-bucket/work'
    provisioning-model: 'SPOT'
    fusion-v2: true
    wave: true
    fast-storage: true
    fusionSnapshots: true              # Enables Fusion snapshots - matches Tower CLI export format
    max-cpus: 256
    wait: 'AVAILABLE'

  # Method 2: Using snapshots field (alternative syntax)
  - name: 'aws-batch-with-snapshots'
    workspace: 'my_organization/my_workspace'
    credentials: 'aws_credentials'
    type: 'aws-batch'
    config-mode: 'forge'
    region: 'us-east-1'
    work-dir: 's3://my-bucket/work'
    provisioning-model: 'SPOT'
    fusion-v2: true
    wave: true
    fast-storage: true
    snapshots: true                    # Enables Fusion snapshots - alternative syntax
    max-cpus: 256
    wait: 'AVAILABLE'

  # Method 3: Using JSON file exported from Tower CLI (with fusionSnapshots field)
  - name: 'aws-batch-from-json'
    workspace: 'my_organization/my_workspace'
    credentials: 'aws_credentials'
    file-path: './examples/yaml/compute-envs/aws_batch_with_snapshots.json'
    wait: 'AVAILABLE'
